<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>debeziumFlow</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../../styles/style.css" rel="Stylesheet">
<link href="../../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../../styles/main.css" rel="Stylesheet">
<link href="../../../../styles/prism.css" rel="Stylesheet">
<link href="../../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
<a href="../../../../index.html">
<span>river</span>            </a>    </div>
    <div>
    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageids="debezium::io.river.connector.red.hat.debezium//debeziumFlow/#kotlin.Int#kotlin.Int#java.util.concurrent.ExecutorService#kotlin.Function0[io.debezium.engine.DebeziumEngine.Builder[TypeParam(bounds=[kotlin.Any?])]]/PointingToDeclaration//-381050400">
  <div class="breadcrumbs"><a href="../index.html">debezium</a><span class="delimiter">/</span><a href="index.html">io.river.connector.red.hat.debezium</a><span class="delimiter">/</span><span class="current">debeziumFlow</span></div>
  <div class="cover ">
    <h1 class="cover"><span>debezium</span><wbr><span><span>Flow</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":connectors:red-hat:debezium:dokkaHtmlPartial/main"><div class="symbol monospace"><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="debezium-flow.html">R</a><span class="token operator">&gt; </span><a href="debezium-flow.html"><span class="token function">debeziumFlow</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">bufferCapacity<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span>Channel.BUFFERED<span class="token punctuation">, </span></span><span class="parameter ">maxRecordsInFlight<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">2048</span><span class="token punctuation">, </span></span><span class="parameter ">executor<span class="token operator">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html">ExecutorService</a><span class="token operator"> = </span>Executors.newSingleThreadExecutor()<span class="token punctuation">, </span></span><span class="parameter ">engineBuilder<span class="token operator">: </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><span data-unresolved-link="io.debezium.engine/DebeziumEngine.Builder///PointingToDeclaration/">DebeziumEngine.Builder</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="debezium-flow.html">R</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../io.river.connector.red.hat.debezium.model/-committable-record/index.html">CommittableRecord</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="debezium-flow.html">R</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><p class="paragraph">The debeziumFlow function creates a Kotlin Flow that consumes records from a Debezium engine and emits them as CommittableRecords.</p><p class="paragraph">Each CommittableRecord carries the original record and a CommittableOffset that allows the caller to commit the record's offset to the Debezium engine once it has been successfully processed downstream.</p><p class="paragraph">The capacity of the internal buffer that stores the unconsumed records is defined by <a href="debezium-flow.html">bufferCapacity</a>.</p><p class="paragraph">If the buffer fills up, the flow will start to suspend producers until more capacity becomes available again.</p><p class="paragraph">In the other hand, <a href="debezium-flow.html">maxRecordsInFlight</a> represents the maximum number of records that can be outstanding at the same time, waiting for their corresponding offsets to be committed. If this limit is reached, the flow will start to suspend producers until more offsets are committed.</p><p class="paragraph">Example usage:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val debeziumProperties: Properties = TODO("provide the debezium properties here")<br><br>val flow = debeziumFlow { create(Json::class.java).using(debeziumProperties) }<br><br>flow.collect { record -&gt;<br>    println(record)<br>    record.markProcessed()<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>

</body></html>

